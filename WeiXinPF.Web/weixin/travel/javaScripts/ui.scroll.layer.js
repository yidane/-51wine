define("text!ui/ui.scroll.layer.html",[],function(){return function(obj){var __t,__p="";Array.prototype.join;with(obj||{}){if(__p+='<div class="cui-pop-box">',"string"==typeof title&&title.length>0&&(__p+='<div class="cui-hd">'+(null==(__t=title)?"":__t)+'<div class="lab-close-area"><span class="cui-top-close">Ã—</span></div></div>'),__p+='<div class="cui-bd" style="overflow: hidden; position: relative; background-color: #fafafa;width: 100%;"></div><div class="cui-roller-btns">',"string"==typeof btns)__p+=""+(null==(__t=btns)?"":__t);else{__p+="";for(var i=0,len=btns.length;len>i;i++)__p+='<div class="cui-flexbd '+(null==(__t=btns[i].className)?"":__t)+'">'+(null==(__t=btns[i].name)?"":__t)+"</div>";__p+=""}__p+="</div></div>"}return __p}}),define("UIScrollLayer",["UILayer",getAppUITemplatePath("ui.scroll.layer"),"UIScroll"],function(t,i,s){return _.inherit(t,{propertys:function($super){$super(),this.template=i,this.datamodel={title:"",btns:[{name:"cancel",className:"cui-btns-cancel"},{name:"ok",className:"cui-btns-ok"}]},this.addEvents({"click .cui-btns-ok":"okAction","click .cui-btns-cancel":"cancelAction","click .cui-top-close":"closeAction"}),this.html=null,this.html="",this.maxHeight=300,this.sheight=0,this.scrollOpts={}},okAction:function(){console.log("ok")},cancelAction:function(){console.log("cancel")},closeAction:function(){this.hide()},initElement:function(){this.swrapper=this.$(".cui-bd"),this.box_wrapper=this.$(".cui-pop-box")},initSize:function(){this.html&&(this.html=$(this.html),this.html.length>1&&(this.html=$("<div></div>").append(this.html)),this.html.css({"background-color":"white",position:"absolute"}),this.swrapper.append(this.html),this._initWrapperSize())},_initWrapperSize:function(){var t=0;this.width&&this.box_wrapper.width(this.width),this.sheight=this.html.height(),t=Math.min(this.sheight,this.maxHeight),this.swrapper.height(t)},refreshHeight:function(){this._initWrapperSize(),this.scroll&&this.scroll.refresh&&this.scroll.refresh(),this._initScroll()},initialize:function($super,t){$super(t)},_initScroll:function(){this.scroll&&this.scroll.destory&&this.scroll.destory(),this.sheight>=this.maxHeight&&(this.scrollOpts.wrapper=this.swrapper,this.scrollOpts.scroller=this.html,this.scroll=new s(this.scrollOpts))},addEvent:function($super){$super(),this.on("onShow",function(){this.initSize(),this._initScroll()},1),this.on("onHide",function(){this.scroll&&(this.scroll.destroy(),this.scroll=null)})}})});