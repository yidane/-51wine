<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>检索面板</title>
    <style type="text/css">
        * {
            margin: 0px;
            padding: 0px;
        }

        body, button, input, select, textarea {
            font: 12px/16px Verdana, Helvetica, Arial, sans-serif;
        }

        li {
            margin-left: 30px;
        }
    </style>
    <script charset="utf-8" src="http://map.qq.com/api/js?v=2.exp&key=XQSBZ-MYPKU-EJSVT-4XWSN-QWJXH-2TBDM"></script>
    <script>
        function G(id) {
            return document.getElementById(id);
        }
        function setlocalInfo(point) {
            G("p_lng").innerHTML = point.lng;
            G("p_lat").innerHTML = point.lat;
        }
        var map = null;
        var searchService = null;

        var init = function () {
            var center = new qq.maps.LatLng(48.6589239484962, 87.04087972640991);
            map = new qq.maps.Map(document.getElementById('container'), {
                center:center,
                zoomLevel:18
            });
            qq.maps.event.addListener(map, 'click', function (e) {
                var point = e.latLng;
                setlocalInfo(point);
            });
            searchService = new qq.maps.SearchService({
                panel:document.getElementById('infoDiv'),
                map: map,
                autoExtend:false
            });
            getResult();
        }
        function getResult() {

            //设置searchRequest
            var poiText = document.getElementById("poiText").value;
            var regionText = document.getElementById("regionText").value;

            searchService.setLocation(regionText);

            searchService.search(poiText);

        }

    </script>
</head>
<body onload="init()">
<div  style="width: 1003px; height: 500px"id="container"></div>
    <div id="txtpoint">
        <p>经度：<span id="p_lng"></span></p>
        <p>维度：<span id="p_lat"></span></p>
    </div>
<div>
    区域 <input type='text' value='新疆维吾尔自治区阿勒泰地区布尔津县喀纳斯景区' id="regionText"/>
    地点 <input type='text' value="神仙湾" id="poiText"/>
    <input type="button" value="Search" onclick="getResult()"/>

    <div id="pageIndexLabel" style="width: 100px;"></div>
</div>
    <div style='width: 500px; height: 180px' id="infoDiv"></div>
</body>
</html>
